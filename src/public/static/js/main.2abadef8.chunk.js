(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{33:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(26),o=n.n(c),s=(n(40),n(10)),i=n(20),l=n(5),u=n(4),d=n(6),m=n(9),h=n(8),p=(n(41),n(0)),b=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(p.jsx)(r.Fragment,{children:Object(p.jsxs)("footer",{children:[Object(p.jsxs)("div",{className:"first--content content",children:["Radio Go! ",Object(p.jsx)("br",{}),"Conectados contigo"]}),Object(p.jsx)("div",{className:"second--content content",children:Object(p.jsx)("img",{src:"https://res.cloudinary.com/xizascloud/image/upload/v1630184411/rgo/rgo_iksbua.png",alt:"rgo_logo"})}),Object(p.jsx)("div",{className:"third--content content",children:Object(p.jsx)("a",{href:"https://radiogolatino.blogspot.com/",children:"radiogolatino.blogspot.com"})})]})})}}]),n}(r.Component),j=(n(43),function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(p.jsx)(r.Fragment,{children:Object(p.jsx)("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark py-2",children:Object(p.jsxs)("div",{className:"container-fluid",children:[Object(p.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarTogglerDemo01","aria-controls":"navbarTogglerDemo01","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(p.jsx)("span",{className:"navbar-toggler-icon"})}),Object(p.jsx)("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo01",children:Object(p.jsx)(i.b,{to:"/",children:Object(p.jsx)("p",{className:"navbar-brand",children:"Horario RGO"})})})]})})})}}]),n}(r.Component)),f=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).state={user:"2529"},r}return Object(d.a)(n,[{key:"render",value:function(){return Object(p.jsxs)(r.Fragment,{children:[Object(p.jsx)(j,{user:this.state.user}),Object(p.jsx)("main",{children:this.props.children}),Object(p.jsx)(b,{})]})}}]),n}(r.Component),O=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(p.jsx)(r.Fragment,{children:"NotFound Works!"})}}]),n}(r.Component),x=n(2),v=n.n(x),g=n(3),y=n(16),N=n(14),C=n(19),k=n(15),w=n.n(k),S="",D=function(){function e(){Object(u.a)(this,e)}return Object(d.a)(e,[{key:"listPrograms",value:function(){var e=Object(g.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(S,"/api/program"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return[]}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"addProgram",value:function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(S,"/api/program"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return{err:e}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"listPersonByRole",value:function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(S,"/api/person/role?")+new URLSearchParams(t),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return{err:e}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPersonById",value:function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(S,"/api/person/id?")+new URLSearchParams(t),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return{err:e}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"editProgram",value:function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(S,"/api/program"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return{err:e}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteProgram",value:function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(S,"/api/program"),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return{err:e}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"readReports",value:function(){var e=Object(g.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(S,"/api/program/reports"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return[]}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanReports",value:function(){var e=Object(g.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(S,"/api/program/reports"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return[]}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),F=n(35),M=function e(){Object(u.a)(this,e),this.days={1:"Lunes",2:"Martes",3:"Mi\xe9rcoles",4:"Jueves",5:"Viernes",6:"S\xe1bado",7:"Domingo"},this.hora=function(e,t){var n="";return n+=e<=12?"".concat(e,12!==e?"am a ":"pm a "):"".concat(e-12,24!==e?"pm a ":"am a "),n+=t<=12?"".concat(t,12!==t?"am":"pm"):"".concat(t-12,24!==t?"pm":"am")},this.personas=function(e){var t="";if(console.log("XDD"),console.log(e),e[0]){var n,r=Object(F.a)(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;console.log(a),t+="".concat(a.name,", ")}}catch(c){r.e(c)}finally{r.f()}t=t.substring(0,t.length-2)}return t},this.fecha=function(e){var t="",n=new Date;return t+="".concat(n.getDate()+e-n.getDay(),"/").concat(n.getMonth()+1,"/").concat(n.getFullYear())}},R=(n(33),function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).programService=new D,r.prettyService=new M,r.handleChange=function(e){r.setState(Object(N.a)({},e.target.name,e.target.value))},r.state={days:["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado","Domingo"],mods:[],announcers:[],announcerSelected:"",mr:"REPORTE DE MODERACI\xd3N:\nModerador@: ".concat(r.props.form.moderator.name,"\n-Horario: ").concat(r.prettyService.hora(r.props.form.hourIni,r.props.form.hourFin),"\n-D\xeda: ").concat(r.prettyService.days[r.props.form.day]," ").concat(r.prettyService.fecha(r.props.form.day),"\n-Locutor: ").concat(r.prettyService.personas(r.props.form.announcer),"\n-Nombre de Programa: ").concat(r.props.form.name,"\n\nEVALUACI\xd3N DE LOCUCI\xd3N:\n-\xbfLocutor fue puntual?\n\n\n-\xbfCu\xe1l fue el tema principal del programa? Detallar en que consiste el programa\n\n\n-\xbfMenciona las redes sociales de la RADIO y coloca spots publicitarios durante su programa?\n\n\n-M\xe1ximo de personas interactuando en el chat\n\n\n-Observaciones y/o Cr\xedticas constructivas que desees aportar\n")},r}return Object(d.a)(n,[{key:"render",value:function(){var e=this;console.log(this.props.form);var t=this.props.form,n=t.name,r=t.color,a=t.announcer,c=t.moderator,o=t.day,s=t.hourIni,i=t.hourFin,l=t.moderatorReport;l||(l=this.state.mr);for(var u=[],d=[],m=0;m<25;m++)u.push(Object(p.jsx)("option",{defaultValue:m+1,children:m<10?"0".concat(m):m},"h_i".concat(m)));for(var h=parseInt(s)+1;h<25;h++)d.push(Object(p.jsx)("option",{defaultValue:h+1,children:h<10?"0".concat(h):h},"h_i".concat(h)));return Object(p.jsx)("form",{onSubmit:this.props.handleUpdate,children:Object(p.jsxs)("section",{className:"form--program__container",children:[Object(p.jsxs)("div",{className:"form--title d-flex justify-content-between",children:[Object(p.jsx)("h1",{children:n}),Object(p.jsx)("button",{onClick:this.props.closeModal,type:"button",className:"btn btn-danger",children:"X"})]}),Object(p.jsxs)("div",{className:"form--body",children:[Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"moderatorReport",className:"form-label",children:"Reporte de Moderaci\xf3n"}),Object(p.jsx)("textarea",{onChange:this.props.handleChange,className:"form-control",id:"moderatorReport",name:"moderatorReport",value:l,rows:"25"})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"name",className:"form-label",children:"Nombre del Programa"}),Object(p.jsx)("input",{onChange:this.props.handleChange,type:"text",className:"form-control",id:"name",name:"name",value:n})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"announcerSelected",className:"form-label",children:"Locutor@"}),Object(p.jsxs)("div",{className:"d-flex w-100",children:[Object(p.jsxs)("select",{onChange:function(t){e.handleChange(t)},id:"announcerSelected",className:"form-select",name:"announcerSelected",value:this.state.announcerSelected,children:[Object(p.jsx)("option",{}),this.state.announcers.map((function(e,t){return Object(p.jsx)("option",{value:e._id,children:e.name},"a".concat(t))}))]}),Object(p.jsx)("button",{onClick:function(t){e.props.handleSelectAnnouncer(e.state.announcerSelected)},type:"button",className:"btn btn-primary ms-3",children:"+"})]}),a.map((function(t,n){return t._id?Object(p.jsxs)("div",{className:"alert alert-dark announcers d-flex justify-content-between mt-3",value:t._id,children:[Object(p.jsx)("p",{className:"p-0 m-0",children:t.name}),Object(p.jsx)("button",{onClick:function(n){e.props.handlePopAnnouncer(t)},type:"button",className:"btn btn-danger",children:"X"})]},"an".concat(n)):Object(p.jsxs)("div",{className:"alert alert-dark announcers d-flex justify-content-between mt-3",value:t,children:[Object(p.jsx)("p",{className:"p-0 m-0",children:t}),Object(p.jsx)("button",{onClick:function(n){e.props.handlePopAnnouncer(t)},type:"button",className:"btn btn-danger",children:"X"})]},"an".concat(n))}))]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"moderator",className:"form-label",children:"Moderador@"}),Object(p.jsxs)("select",{onChange:this.props.handleChange,id:"moderator",className:"form-select",name:"moderator",value:c.name,children:[Object(p.jsx)("option",{}),this.state.mods.map((function(e,t){return Object(p.jsx)("option",{value:e._id,children:e.name},"m".concat(t))}))]})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"color",className:"form-label",children:"Color"}),Object(p.jsx)("input",{onChange:this.props.handleChange,type:"color",className:"form-control form-control-color",id:"color",name:"color",value:r})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"day",className:"form-label",children:"D\xeda"}),Object(p.jsx)("select",{onChange:this.props.handleChange,id:"day",className:"form-select",name:"day",value:o,children:this.state.days.map((function(e,t){return Object(p.jsx)("option",{value:t+1,children:e},"d".concat(t))}))})]}),Object(p.jsxs)("div",{className:"d-flex justify-content-around w-100",children:[Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"hourIni",className:"form-label",children:"Hora Inicio"}),Object(p.jsxs)("div",{className:"d-flex align-items-center",children:[Object(p.jsx)("select",{onChange:this.props.handleChange,id:"hourIni",className:"form-select",style:{width:"4.5rem"},name:"hourIni",value:s,children:u}),Object(p.jsx)("div",{className:"mx-2",children:": 00"})]})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"hourFin",className:"form-label",children:"Hora Fin"}),Object(p.jsxs)("div",{className:"d-flex align-items-center",children:[Object(p.jsx)("select",{onChange:this.props.handleChange,id:"hourFin",className:"form-select",style:{width:"4.5rem"},name:"hourFin",value:i,children:d}),Object(p.jsx)("div",{className:"mx-2",children:": 00"})]})]})]})]}),Object(p.jsxs)("div",{className:"form--footer",children:[Object(p.jsx)("button",{onClick:this.props.handleDelete,type:"button",className:"btn btn-danger",children:"Eliminar"}),Object(p.jsx)("button",{type:"submit",className:"btn btn-info",children:"Guardar"}),Object(p.jsx)("button",{onClick:this.props.closeModal,type:"button",className:"btn btn-danger",children:"Cerrar"})]})]})})}},{key:"componentDidMount",value:function(){this.getAnnouncers(),this.getMods()}},{key:"getMods",value:function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.programService.listPersonByRole({role:"moderador"});case 2:if(!(t=e.sent).err){e.next=6;break}return console.log(t.err),e.abrupt("return");case 6:this.setState({mods:t});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAnnouncers",value:function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.programService.listPersonByRole({role:"locutor"});case 2:if(!(t=e.sent).err){e.next=6;break}return console.log(t.err),e.abrupt("return");case 6:this.setState({announcers:t});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nameAnnouncer",value:function(){var e=Object(g.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.programService.getPersonById({id:t});case 2:return n=e.sent,console.log("XDDDDD"),console.log(n),e.abrupt("return",n.name);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(r.Component));n(59);w.a.setAppElement("#main");var P=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).detailsProgram=function(e){console.log(r.props.data[e.target.id])},r.state={days:["","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado","Domingo"],data:[]},r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){console.log("updated!")}},{key:"render",value:function(){for(var e=this,t=[],n=0;n<24;n++)t.push(Object(p.jsxs)("div",{className:"box-hour",children:[n<10?"0".concat(n):n,":00 -",n<10?"0".concat(n):n,":59"]},n));return Object(p.jsx)(r.Fragment,{children:Object(p.jsxs)("div",{className:"schedule-container",children:[Object(p.jsx)("div",{className:"schedule_days-container",children:this.state.days.map((function(e,t){return Object(p.jsx)("div",{className:"box-day",children:e},t)}))}),Object(p.jsx)("div",{className:"schedule_hours-continer",children:t}),Object(p.jsx)("div",{id:"programs",className:"schedule_program-container",children:this.props.data.map((function(t,n){return Object(p.jsx)("div",{id:n,type:"button",onClick:function(){e.props.handleChange(t),e.props.openModal()},className:"box-program",style:{gridColumn:t.day,gridRow:"".concat(t.hourIni+1," / ").concat(t.hourFin+1),backgroundColor:t.color},children:Object(p.jsx)("p",{children:t.name})},"data".concat(n))}))})]})})}}]),n}(r.Component),A={content:{width:"75%",height:"100%",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"rgb(58, 58, 58)"}};w.a.setAppElement("#main");var E=function(e){var t=Object(l.f)(),n=new D,a=e.data,c=Object(r.useState)({data:a,programData:{_id:"",name:"",color:"#563d7c",announcer:[],moderator:"",day:1,hourIni:"00",hourFin:"00",moderatorReport:"",announcerReport:""}}),o=Object(C.a)(c,2),i=o[0],u=o[1],d=function(){var e=Object(g.a)(v.a.mark((function e(r){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.editProgram(i.programData);case 2:if(!(a=e.sent).err){e.next=6;break}return console.log("Error al obtener la data"),e.abrupt("return");case 6:console.log(a),O(),t.push("/");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(g.a)(v.a.mark((function e(t){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.deleteProgram(i.programData);case 2:if(!(r=e.sent).err){e.next=6;break}return console.log("Error al obtener la data"),e.abrupt("return");case 6:console.log(r),O(),window.location.reload();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=Object(r.useState)(!1),b=Object(C.a)(h,2),j=b[0],f=b[1],O=function(){f(!1)};return Object(p.jsxs)(r.Fragment,{children:[Object(p.jsx)(P,{data:a,handleChange:function(e){u({programData:e})},openModal:function(){f(!0)}}),Object(p.jsx)(w.a,{isOpen:j,onAfterOpen:function(){},onRequestClose:O,style:A,contentLabel:"Example Modal",children:Object(p.jsx)(R,{form:i.programData,closeModal:O,handleChange:function(e){u({programData:Object(s.a)(Object(s.a)({},i.programData),{},Object(N.a)({},e.target.name,e.target.value))})},handleUpdate:d,handleSelectAnnouncer:function(e){u((function(t){var n=[].concat(Object(y.a)(t.programData.announcer),[e]);return{programData:Object(s.a)(Object(s.a)({},t.programData),{},{announcer:n})}}))},handlePopAnnouncer:function(e){u((function(t){var n=t.programData.announcer.indexOf(e),r=[].concat(Object(y.a)(t.programData.announcer.slice(0,n)),Object(y.a)(t.programData.announcer.slice(n+1)));return{programData:Object(s.a)(Object(s.a)({},t.programData),{},{announcer:r})}}))},handleDelete:m})})]})},I=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).programService=new D,r.handleChange=function(e){r.setState(Object(N.a)({},e.target.name,e.target.value))},r.state={days:["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado","Domingo"],mods:[],announcers:[],announcerSelected:""},r}return Object(d.a)(n,[{key:"render",value:function(){var e=this;console.log(this.props.form);for(var t=this.props.form,n=t.name,r=t.color,a=t.announcer,c=t.moderator,o=t.day,s=t.hourIni,i=t.hourFin,l=[],u=[],d=0;d<25;d++)l.push(Object(p.jsx)("option",{defaultValue:d+1,children:d<10?"0".concat(d):d},"hi".concat(d)));for(var m=parseInt(s)+1;m<25;m++)u.push(Object(p.jsx)("option",{defaultValue:m+1,children:m<10?"0".concat(m):m},"hi".concat(m)));return Object(p.jsx)("form",{onSubmit:this.props.handleSubmit,children:Object(p.jsxs)("section",{className:"form--program__container",children:[Object(p.jsx)("div",{className:"form--title",children:Object(p.jsx)("h1",{children:"Nuevo Programa"})}),Object(p.jsxs)("div",{className:"form--body",children:[Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"name",className:"form-label",children:"Nombre del Programa"}),Object(p.jsx)("input",{onChange:this.props.handleChange,type:"text",className:"form-control",id:"name",name:"name",value:n})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"announcerSelected",className:"form-label",children:"Locutor@"}),Object(p.jsxs)("div",{className:"d-flex w-100",children:[Object(p.jsxs)("select",{onChange:function(t){e.handleChange(t)},id:"announcerSelected",className:"form-select",name:"announcerSelected",value:this.state.announcerSelected,children:[Object(p.jsx)("option",{}),this.state.announcers.map((function(e,t){return Object(p.jsx)("option",{value:e._id,children:e.name},"a".concat(t))}))]}),Object(p.jsx)("button",{onClick:function(t){e.props.handleSelectAnnouncer(e.state.announcerSelected)},type:"button",className:"btn btn-primary ms-3",children:"+"})]}),a.map((function(t,n){return Object(p.jsxs)("div",{className:"alert alert-dark announcers d-flex justify-content-between mt-3",value:t._id,children:[Object(p.jsx)("p",{className:"p-0 m-0",children:t}),Object(p.jsx)("button",{onClick:function(n){e.props.handlePopAnnouncer(t)},type:"button",className:"btn btn-danger",children:"X"})]},"an".concat(n))}))]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"moderator",className:"form-label",children:"Moderador@"}),Object(p.jsxs)("select",{onChange:this.props.handleChange,id:"moderator",className:"form-select",name:"moderator",value:c,children:[Object(p.jsx)("option",{}),this.state.mods.map((function(e,t){return Object(p.jsx)("option",{value:e._id,children:e.name},"m".concat(t))}))]})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"color",className:"form-label",children:"Color"}),Object(p.jsx)("input",{onChange:this.props.handleChange,type:"color",className:"form-control form-control-color",id:"color",name:"color",value:r})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"day",className:"form-label",children:"D\xeda"}),Object(p.jsx)("select",{onChange:this.props.handleChange,id:"day",className:"form-select",name:"day",value:o,children:this.state.days.map((function(e,t){return Object(p.jsx)("option",{value:t+1,children:e},"d".concat(t))}))})]}),Object(p.jsxs)("div",{className:"d-flex justify-content-around w-100",children:[Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"hourIni",className:"form-label",children:"Hora Inicio"}),Object(p.jsxs)("div",{className:"d-flex align-items-center",children:[Object(p.jsx)("select",{onChange:this.props.handleChange,id:"hourIni",className:"form-select",style:{width:"4.5rem"},name:"hourIni",value:s,children:l}),Object(p.jsx)("div",{className:"mx-2",children:": 00"})]})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"hourFin",className:"form-label",children:"Hora Fin"}),Object(p.jsxs)("div",{className:"d-flex align-items-center",children:[Object(p.jsx)("select",{onChange:this.props.handleChange,id:"hourFin",className:"form-select",style:{width:"4.5rem"},name:"hourFin",value:i,children:u}),Object(p.jsx)("div",{className:"mx-2",children:": 00"})]})]})]})]}),Object(p.jsxs)("div",{className:"form--footer",children:[Object(p.jsx)("button",{onClick:this.props.closeModal,type:"button",className:"btn btn-danger",children:"Cerrar"}),Object(p.jsx)("button",{type:"submit",className:"btn btn-info",children:"Enviar"})]})]})})}},{key:"componentDidMount",value:function(){this.getAnnouncers(),this.getMods()}},{key:"getMods",value:function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.programService.listPersonByRole({role:"moderador"});case 2:if(!(t=e.sent).err){e.next=6;break}return console.log(t.err),e.abrupt("return");case 6:this.setState({mods:t});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAnnouncers",value:function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.programService.listPersonByRole({role:"locutor"});case 2:if(!(t=e.sent).err){e.next=6;break}return console.log(t.err),e.abrupt("return");case 6:this.setState({announcers:t});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nameAnnouncer",value:function(){var e=Object(g.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.programService.getPersonById({id:t});case 2:return n=e.sent,e.abrupt("return",n.name);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(r.Component),T=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).state={},r}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.report;return Object(p.jsxs)("div",{className:"d-flex flex-column",children:[Object(p.jsx)("textarea",{className:"form-control",value:e,rows:"21",readOnly:!0}),Object(p.jsx)("button",{onClick:this.props.closeReport,type:"button",className:"btn btn-danger mt-3 mx-auto",style:{width:"auto",height:"38px"},children:"Cerrar"})]})}}]),n}(r.Component),L={content:{width:"75%",height:"100%",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"rgb(58, 58, 58)"}};w.a.setAppElement("#main");var _=function(e){var t=Object(l.f)(),n=new D,a=Object(r.useState)({ann:{},form:{name:"",color:"#563d7c",announcer:[],moderator:"",day:1,hourIni:"00",hourFin:"00"},report:""}),c=Object(C.a)(a,2),o=c[0],i=c[1],u=function(){var e=Object(g.a)(v.a.mark((function e(r){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(o.form),e.next=3,n.addProgram(o.form);case 3:if(!(a=e.sent).err){e.next=7;break}return console.log("Error al obtener la data"),e.abrupt("return");case 7:console.log(a),j(),t.push("/"),r.preventDefault();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=Object(r.useState)(!1),m=Object(C.a)(d,2),h=m[0],b=m[1],j=function(){b(!1)},f=Object(r.useState)(!1),O=Object(C.a)(f,2),x=O[0],k=O[1],S=function(){k(!0)},F=function(){k(!1)},M=function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.readReports().then((function(e){var t="";e.forEach((function(e){t+=e.moderatorReport+"\n\n\n"})),i({form:Object(s.a)({},o.form),report:t})})).then((function(){S()}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.cleanReports().then((function(e){console.log(e);i({form:Object(s.a)({},o.form),report:"Reportes limpios"})})).then((function(){S()}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)(r.Fragment,{children:[Object(p.jsxs)("div",{className:"d-flex justify-content-around w-100",children:[Object(p.jsx)("button",{type:"button",className:"btn btn-danger","data-bs-toggle":"modal","data-bs-target":"#confirmModal",children:"Limpiar Reportes"}),Object(p.jsx)("button",{onClick:M,type:"button",className:"btn btn-info",children:"Exportar Reportes"}),Object(p.jsx)("button",{onClick:function(){b(!0)},type:"button",className:"btn btn-warning",children:"A\xf1adir Programa"})]}),Object(p.jsx)("div",{className:"modal fade",id:"confirmModal",tabindex:"-1","aria-labelledby":"confirmModalLabel","aria-hidden":"true",children:Object(p.jsx)("div",{className:"modal-dialog",children:Object(p.jsxs)("div",{className:"modal-content",children:[Object(p.jsx)("div",{className:"modal-header",children:Object(p.jsx)("h5",{className:"modal-title text-center mx-auto",id:"confirmModalLabel",children:"\xbfSegur@ que desea eliminar todos los reportes?"})}),Object(p.jsxs)("div",{className:"modal-footer d-flex justify-content-center",children:[Object(p.jsx)("button",{type:"button",className:"btn btn-primary",onClick:R,"data-bs-dismiss":"modal",children:"Aceptar"}),Object(p.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cancelar"})]})]})})}),Object(p.jsx)(w.a,{isOpen:x,onRequestClose:F,style:L,contentLabel:"Reports",children:Object(p.jsx)(T,{report:o.report,closeReport:F})}),Object(p.jsx)(w.a,{isOpen:h,onAfterOpen:function(){},onRequestClose:j,style:L,contentLabel:"Example Modal",children:Object(p.jsx)(I,{form:o.form,closeModal:j,handleChange:function(e){i({form:Object(s.a)(Object(s.a)({},o.form),{},Object(N.a)({},e.target.name,e.target.value))})},handleSelectAnnouncer:function(e){i((function(t){var n=[].concat(Object(y.a)(t.form.announcer),[e]);return{form:Object(s.a)(Object(s.a)({},t.form),{},{announcer:n})}}))},handleSubmit:u,handlePopAnnouncer:function(e){i((function(t){var n=t.form.announcer.indexOf(e),r=[].concat(Object(y.a)(t.form.announcer.slice(0,n)),Object(y.a)(t.form.announcer.slice(n+1)));return{form:Object(s.a)(Object(s.a)({},t.form),{},{announcer:r})}}))}})})]})},B=(n(60),function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).programService=new D,r.state={data:[]},r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.listPrograms()}},{key:"render",value:function(){return Object(p.jsxs)(r.Fragment,{children:[Object(p.jsx)("div",{className:"schedule",children:Object(p.jsx)(E,{data:this.state.data})}),Object(p.jsx)("div",{className:"btns-container",children:Object(p.jsx)(_,{})})]})}},{key:"listPrograms",value:function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.programService.listPrograms();case 2:if(!(t=e.sent).err){e.next=6;break}return console.log("Error al obtener la data"),e.abrupt("return");case 6:this.setState({data:t});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(r.Component));var J=function(){return Object(p.jsx)(i.a,{children:Object(p.jsx)(f,{children:Object(p.jsxs)(l.c,{children:[Object(p.jsx)(l.a,{exact:!0,path:"/",component:function(e){return Object(p.jsx)(B,Object(s.a)({},e))}}),Object(p.jsx)(l.a,{component:O})]})})})};o.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(J,{})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.2abadef8.chunk.js.map